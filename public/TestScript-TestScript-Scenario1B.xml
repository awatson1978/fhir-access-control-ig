<?xml version="1.0" encoding="UTF-8"?>

<TestScript xmlns="http://hl7.org/fhir">
  <id value="TestScript-Scenario1B"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p><b>Generated Narrative: TestScript</b><a name="TestScript-Scenario1B"> </a></p><div style="display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%"><p style="margin-bottom: 0px">Resource TestScript &quot;TestScript-Scenario1B&quot; </p></div><p><b>url</b>: <code>http://</code></p><p><b>version</b>: 0.1.0</p><p><b>name</b>: Scenario 1B</p><p><b>title</b>: R4 TestScript - Directories With Restricted Data</p><p><b>status</b>: draft</p><p><b>date</b>: 2022-06-14 23:19:30+0000</p><p><b>publisher</b>: MITRE</p><p><b>contact</b>: MITRE: <a href="https://www.mitre.org">https://www.mitre.org</a></p><p><b>jurisdiction</b>: United States of America <span style="background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki"> (<a href="http://terminology.hl7.org/5.0.0/CodeSystem-ISO3166Part1.html">ISO 3166-1 Codes for the representation of names of countries and their subdivisions â€” Part 1: Country code</a>#US)</span></p><blockquote><p><b>fixture</b></p><p><b>autocreate</b>: true</p><p><b>autodelete</b>: true</p><p><b>resource</b>: <a href="PharmLoc2">PharmLoc2: OrgA CT Location 2</a></p></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 0.1 Create hospital organization</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Organization</td><td>Hospital Organization</td><td>PUT /baseR4/Organization/J4aabjHFaXv73ZvME</td><td>json</td><td>true</td><td>put</td><td>/baseR4/Organization/J4aabjHFaXv73ZvME</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Success).</td><td>created</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 0.2 Create women's shelter organization</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Organization</td><td>Women's Shelter Organization</td><td>PUT /baseR4/Organization/lyW5mPW2nf3DHC7h6</td><td>json</td><td>true</td><td>put</td><td>/baseR4/Organization/lyW5mPW2nf3DHC7h6</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Success).</td><td>created</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 0.3  Create hospital location</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Location</td><td>Hospital Location</td><td>PUT /baseR4/Location/6kKu6iPnJtMozpaBp</td><td>json</td><td>true</td><td>put</td><td>/baseR4/Location/6kKu6iPnJtMozpaBp</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Success).</td><td>created</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 0.4 Create women's shelter location</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Location</td><td>Women's Shelter Location</td><td>PUT /baseR4/Location/qirz9TRTPfkDgBSs8</td><td>json</td><td>true</td><td>put</td><td>/baseR4/Location/qirz9TRTPfkDgBSs8</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Success).</td><td>created</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 0.5 Create social worker</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Practitioner</td><td>Social Worker</td><td>PUT /baseR4/Practitioner</td><td>json</td><td>true</td><td>put</td><td>/baseR4/Practitioner</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Success).</td><td>created</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 0.6 Create restriction on accessing women's shelters</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Restriction on accessing Women's Shelters</td><td>PUT /baseR4/Consent/cotkDnGQjpHijDsRR</td><td>json</td><td>true</td><td>put</td><td>/baseR4/Consent/cotkDnGQjpHijDsRR</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 201(Success).</td><td>created</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 1.1.1 SocialWorker tries to anonymously access public organization data (and succeeds)</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Organization</td><td>1.1.1</td><td>GET /baseR4/Organization/J4aabjHFaXv73ZvME</td><td>json</td><td>true</td><td>get</td><td>/baseR4/Organization/J4aabjHFaXv73ZvME</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 1.1.2 SocialWorker tries to anonymously access public location data (and succeeds)</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Location</td><td>1.1.2</td><td>GET /baseR4/Location/6kKu6iPnJtMozpaBp</td><td>json</td><td>true</td><td>get</td><td>/baseR4/Location/6kKu6iPnJtMozpaBp</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 1.2.1 SocialWorker tries to anonymously access private organization data (and fails)</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Organization</td><td>1.2.1</td><td>GET /baseR4/Organization/lyW5mPW2nf3DHC7h6</td><td>json</td><td>true</td><td>get</td><td>/baseR4/Organization/lyW5mPW2nf3DHC7h6</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 401(Unauthorized).</td><td>forbidden</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 1.2.2 SocialWorker tries to anonymously access private location data (and fails)</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>Location</td><td>1.2.2</td><td>GET /baseR4/Location/qirz9TRTPfkDgBSs8</td><td>json</td><td>true</td><td>get</td><td>/baseR4/Location/qirz9TRTPfkDgBSs8</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 401(forbidden).</td><td>forbidden</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 2.1 SocialWorker authenticates.</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>2.1</td><td>GET /oauth/authorize</td><td>json</td><td>true</td><td>get</td><td>/oauth/authorize?response_type=code&amp;client_id=12345&amp;redirect_uri=https%3A%2F%2Finferno.healthit.gov%2Fsuites%2Fcustom%2Fsmart%2Fredirect&amp;scope=launch%2Fpatient+openid+fhirUser+offline_access+patient%2F*.read&amp;state=b64686e6-5ebb-49c7-845a-821736c7d002&amp;aud=https%3A%2F%2Fnational-directory.meteorapp.com</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 2.2 Token request</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read = 'Read', stated as 'null')</td><td>2.2</td><td>GET /oauth/token</td><td>json</td><td>true</td><td>get</td><td>/oauth/token</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>Response</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>okay</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 2.3.1 - SocialWorker tries to anonymously access private location data (and succeeds)</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Location</td><td>2.3.1</td><td>GET /baseR4/Location/qirz9TRTPfkDgBSs8</td><td>json</td><td>true</td><td>get</td><td>/baseR4/Location/qirz9TRTPfkDgBSs8</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>false</td></tr></table></blockquote></blockquote><blockquote><p><b>test</b></p><p><b>name</b>: 2.3.2 - SocialWorker tries to anonymously access private organization data (and succeeds)</p><blockquote><p><b>action</b></p><h3>Operations</h3><table class="grid"><tr><td>-</td><td><b>Type</b></td><td><b>Resource</b></td><td><b>Label</b></td><td><b>Description</b></td><td><b>Accept</b></td><td><b>EncodeRequestUrl</b></td><td><b>Method</b></td><td><b>Url</b></td></tr><tr><td>*</td><td>Update (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code update = 'Update', stated as 'null')</td><td>Organization</td><td>2.3.2</td><td>GET /baseR4/Organization/lyW5mPW2nf3DHC7h6</td><td>json</td><td>true</td><td>get</td><td>/baseR4/Organization/lyW5mPW2nf3DHC7h6</td></tr></table></blockquote><blockquote><p><b>action</b></p><h3>Asserts</h3><table class="grid"><tr><td>-</td><td><b>Description</b></td><td><b>WarningOnly</b></td></tr><tr><td>*</td><td>Confirm that the returned HTTP status is 200(OK).</td><td>false</td></tr></table></blockquote></blockquote></div>
  </text>
  <url value="http://"/>
  <version value="0.1.0"/>
  <name value="Scenario 1B"/>
  <title value="R4 TestScript - Directories With Restricted Data"/>
  <status value="draft"/>
  <date value="2022-06-14T23:19:30.696Z"/>
  <publisher value="MITRE"/>
  <contact>
    <name value="MITRE"/>
    <telecom>
      <system value="url"/>
      <value value="https://www.mitre.org"/>
    </telecom>
  </contact>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="US"/>
    </coding>
  </jurisdiction>
  <fixture id="73594318-988d-5647-b3d8-1f1841578c27">
    <autocreate value="true"/>
    <autodelete value="true"/>
    <resource>
      <reference value="PharmLoc2"/>
      <display value="OrgA CT Location 2"/>
    </resource>
  </fixture>
  <test id="3823df50-2a7e-48e7-8f70-921067974a05">
    <name value="0.1 Create hospital organization"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Organization"/>
        <label value="Hospital Organization"/>
        <description value="PUT /baseR4/Organization/J4aabjHFaXv73ZvME"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="put"/>
        <url value="/baseR4/Organization/J4aabjHFaXv73ZvME"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 201(Success)."/>
        <response value="created"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="f390140a-edd9-4c04-8131-f50e06f8a40a">
    <name value="0.2 Create women's shelter organization"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Organization"/>
        <label value="Women's Shelter Organization"/>
        <description value="PUT /baseR4/Organization/lyW5mPW2nf3DHC7h6"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="put"/>
        <url value="/baseR4/Organization/lyW5mPW2nf3DHC7h6"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 201(Success)."/>
        <response value="created"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="80ca8957-a591-4a3c-835e-7018bf03660b">
    <name value="0.3  Create hospital location"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Location"/>
        <label value="Hospital Location"/>
        <description value="PUT /baseR4/Location/6kKu6iPnJtMozpaBp"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="put"/>
        <url value="/baseR4/Location/6kKu6iPnJtMozpaBp"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 201(Success)."/>
        <response value="created"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="ef27765c-a138-5669-b255-17bb91d30cc0">
    <name value="0.4 Create women's shelter location"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Location"/>
        <label value="Women's Shelter Location"/>
        <description value="PUT /baseR4/Location/qirz9TRTPfkDgBSs8"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="put"/>
        <url value="/baseR4/Location/qirz9TRTPfkDgBSs8"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 201(Success)."/>
        <response value="created"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="ed7f8206-22ad-4bce-b3d8-83980dc0af5e">
    <name value="0.5 Create social worker"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Practitioner"/>
        <label value="Social Worker"/>
        <description value="PUT /baseR4/Practitioner"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="put"/>
        <url value="/baseR4/Practitioner"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 201(Success)."/>
        <response value="created"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="309ca261-92bf-5063-ba69-77f29c52c671">
    <name value="0.6 Create restriction on accessing women's shelters"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <label value="Restriction on accessing Women's Shelters"/>
        <description value="PUT /baseR4/Consent/cotkDnGQjpHijDsRR"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="put"/>
        <url value="/baseR4/Consent/cotkDnGQjpHijDsRR"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 201(Success)."/>
        <response value="created"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="ed7f8206-22ad-4bce-b3d8-83980dc0af5e">
    <name value="1.1.1 SocialWorker tries to anonymously access public organization data (and succeeds)"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="read"/>
        </type>
        <resource value="Organization"/>
        <label value="1.1.1"/>
        <description value="GET /baseR4/Organization/J4aabjHFaXv73ZvME"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/baseR4/Organization/J4aabjHFaXv73ZvME"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 200(OK)."/>
        <response value="okay"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="ed7f8206-22ad-4bce-b3d8-83980dc0af5e">
    <name value="1.1.2 SocialWorker tries to anonymously access public location data (and succeeds)"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="read"/>
        </type>
        <resource value="Location"/>
        <label value="1.1.2"/>
        <description value="GET /baseR4/Location/6kKu6iPnJtMozpaBp"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/baseR4/Location/6kKu6iPnJtMozpaBp"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 200(OK)."/>
        <response value="okay"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="486e9754-3a48-45c0-b43e-94e16e078d71">
    <name value="1.2.1 SocialWorker tries to anonymously access private organization data (and fails)"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="read"/>
        </type>
        <resource value="Organization"/>
        <label value="1.2.1"/>
        <description value="GET /baseR4/Organization/lyW5mPW2nf3DHC7h6"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/baseR4/Organization/lyW5mPW2nf3DHC7h6"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 401(Unauthorized)."/>
        <response value="forbidden"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="486e9754-3a48-45c0-b43e-94e16e078d71">
    <name value="1.2.2 SocialWorker tries to anonymously access private location data (and fails)"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="read"/>
        </type>
        <resource value="Location"/>
        <label value="1.2.2"/>
        <description value="GET /baseR4/Location/qirz9TRTPfkDgBSs8"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/baseR4/Location/qirz9TRTPfkDgBSs8"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 401(forbidden)."/>
        <response value="forbidden"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="668a7b70-e747-42d3-a100-632f1a87cd40">
    <name value="2.1 SocialWorker authenticates."/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="read"/>
        </type>
        <label value="2.1"/>
        <description value="GET /oauth/authorize"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/oauth/authorize?response_type=code&amp;client_id=12345&amp;redirect_uri=https%3A%2F%2Finferno.healthit.gov%2Fsuites%2Fcustom%2Fsmart%2Fredirect&amp;scope=launch%2Fpatient+openid+fhirUser+offline_access+patient%2F*.read&amp;state=b64686e6-5ebb-49c7-845a-821736c7d002&amp;aud=https%3A%2F%2Fnational-directory.meteorapp.com"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 200(OK)."/>
        <response value="okay"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="0580315d-c072-46da-841e-500ad5d5f931">
    <name value="2.2 Token request"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="read"/>
        </type>
        <label value="2.2"/>
        <description value="GET /oauth/token"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/oauth/token"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 200(OK)."/>
        <response value="okay"/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="595cab8f-6302-44f1-a930-6b02da515216">
    <name value="2.3.1 - SocialWorker tries to anonymously access private location data (and succeeds)"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Location"/>
        <label value="2.3.1"/>
        <description value="GET /baseR4/Location/qirz9TRTPfkDgBSs8"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/baseR4/Location/qirz9TRTPfkDgBSs8"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 200(OK)."/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
  <test id="595cab8f-6302-44f1-a930-6b02da515216">
    <name value="2.3.2 - SocialWorker tries to anonymously access private organization data (and succeeds)"/>
    <action>
      <operation>
        <type>
          <system value="http://terminology.hl7.org/CodeSystem/testscript-operation-codes"/>
          <code value="update"/>
        </type>
        <resource value="Organization"/>
        <label value="2.3.2"/>
        <description value="GET /baseR4/Organization/lyW5mPW2nf3DHC7h6"/>
        <accept value="json"/>
        <encodeRequestUrl value="true"/>
        <method value="get"/>
        <url value="/baseR4/Organization/lyW5mPW2nf3DHC7h6"/>
      </operation>
    </action>
    <action>
      <assert>
        <description value="Confirm that the returned HTTP status is 200(OK)."/>
        <warningOnly value="false"/>
      </assert>
    </action>
  </test>
</TestScript>